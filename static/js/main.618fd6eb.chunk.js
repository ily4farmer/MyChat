(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{43:function(e,t,a){},44:function(e,t,a){},53:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(25),s=a.n(n),r=(a(43),a(18)),i=a(21),o=(a(44),a(12)),l=a(17);l.a.initializeApp({apiKey:"AIzaSyBfQBzoLibg1740oXi6i6fbOOeUbUbVJKM",authDomain:"my-chat-41ee5.firebaseapp.com",projectId:"my-chat-41ee5",storageBucket:"my-chat-41ee5.appspot.com",messagingSenderId:"396979646875",appId:"1:396979646875:web:18fc23a51ad5321822313e"});var j=l.a.auth(),u=l.a.firestore(),b=(a(53),"/home"),d="/chat",m="/customization",h="/info",p=a(3);function O(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.burger})).visible;console.log(t);var a="burger";return t||(a="none"),Object(p.jsxs)("div",{className:a,children:[Object(p.jsx)("div",{onClick:function(){e({type:"state",payload:!1})},className:"burger__btn",children:"X"}),Object(p.jsxs)("ul",{className:"burger__list",children:[Object(p.jsx)("li",{className:"burger__link",children:Object(p.jsx)(i.b,{to:d,children:"\u0427\u0430\u0442"})}),Object(p.jsx)("li",{className:"burger__link",children:Object(p.jsx)(i.b,{to:m,children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(p.jsx)("li",{className:"burger__link",children:Object(p.jsx)(i.b,{to:h,children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})})]}),Object(p.jsx)("button",{onClick:function(){return j.signOut()},className:"header__button btn",children:"\u0412\u044b\u0439\u0442\u0438"})]})}a(56);function f(e){var t=e.user,a=Object(c.useState)(!1),n=Object(r.a)(a,2),s=(n[0],n[1],Object(o.b)());return Object(p.jsx)("header",{className:"header",children:Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"header-block",children:[Object(p.jsx)("div",{className:"header__logo",children:"MyChat"}),t?Object(p.jsx)("nav",{onClick:function(){s({type:"state",payload:!0})},className:"header__button",children:Object(p.jsx)("div",{className:"header__btn",children:Object(p.jsx)("span",{})})}):Object(p.jsx)("button",{className:"header__button btn",children:"\u041b\u043e\u0433\u0438\u043d"})]})})})}var x=a(10),v=(a(57),a(19));a(58);function g(e){var t=e.title,a=e.methodForm,c=Object(o.b)(),n=Object(o.c)((function(e){return e.form}));return Object(p.jsxs)("form",{action:"#",className:"form",onSubmit:a,children:[Object(p.jsx)("h2",{className:"form__template",children:t}),Object.keys(n).map((function(e){return Object(p.jsxs)("label",{children:[Object(p.jsx)("label",{className:"form__label",children:n[e].label}),Object(p.jsx)("input",{onChange:function(e){return function(e){var t=Object(v.a)({},n);switch(!0){case"email"===e.target.type:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.target.value)?(t.email.emailValue=e.target.value,c({type:"state",payload:t})):(t.email.emailValue="",c({type:"state",payload:t}));break;case"password"===e.target.type:e.target.value.length>6?(t.password.passwordValue=e.target.value,c({type:"state",payload:t})):(t.password.passwordValue="",c({type:"state",payload:t}))}}(e)},type:n[e].type,className:"form__input",required:!0})]},e)})),Object(p.jsx)("input",{type:"submit",placeholder:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",className:"form__input-btn btn"})]})}function _(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.form})),a=t.email.emailValue,c=t.password.passwordValue;return Object(p.jsx)(g,{title:"\u0412\u043e\u0439\u0442\u0438",methodForm:function(n){n.preventDefault(),l.a.auth().signInWithEmailAndPassword(a,c).then((function(e){return e})).catch((function(e){console.log("Error: "+e.toString())})),t.email.emailValue="",t.password.passwordValue="",e({type:"state",payload:t})}})}function y(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.form})),a=t.email.emailValue,c=t.password.passwordValue;return Object(p.jsx)(g,{title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",methodForm:function(n){n.preventDefault(),l.a.auth().createUserWithEmailAndPassword(a,c).then((function(e){return e})).catch((function(e){console.log("Error: "+e.toString())})),t.email.emailValue="",t.password.passwordValue="",e({type:"state",payload:t})}})}var N=a(34),w=a.n(N),k=a(36),V=(a(60),a(27)),A=a(37);a(61);function C(){return Object(p.jsx)("div",{className:"loader",children:Object(p.jsx)("div",{className:"lds-hourglass"})})}var S=[{path:b,component:function(){var e=Object(c.useState)(!0),t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(p.jsx)("section",{className:"home",children:Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"home-block",children:[Object(p.jsx)("h1",{className:"home__title",children:"MYCHAT"}),a?Object(p.jsx)(_,{}):Object(p.jsx)(y,{}),Object(p.jsxs)("div",{className:"home__footer",children:[Object(p.jsx)("div",{className:"home__link",style:a?{fontWeight:"bold"}:{fontWeight:"normal"},onClick:function(){return n(!0)},children:"\u0412\u043e\u0439\u0442\u0438"}),Object(p.jsx)("div",{className:"home__link",style:a?{fontWeight:"normal"}:{fontWeight:"bold"},onClick:function(){return n(!1)},children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})})})}}],W=[{path:d,component:function(){var e=Object(V.a)(j),t=Object(r.a)(e,1)[0],a=Object(c.useState)(""),n=Object(r.a)(a,2),s=n[0],i=n[1],o=Object(A.a)(u.collection("messages").orderBy("createdAt")),b=Object(r.a)(o,2),d=b[0],m=b[1],h=function(){var e=Object(k.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.collection("messages").add({uid:t.uid,displayName:t.email,text:s,createdAt:l.a.firestore.FieldValue.serverTimestamp()}),i("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return m?Object(p.jsx)(C,{}):Object(p.jsx)("section",{className:"chat",children:Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"chat-block",children:[Object(p.jsx)("div",{className:"chat__window",children:d.map((function(e){return Object(p.jsxs)("div",{className:"message",style:{marginLeft:t.uid===e.uid?"auto":"10px"},children:[Object(p.jsx)("div",{className:"message__name",children:e.displayName}),Object(p.jsx)("div",{className:"message__text",children:e.text})]},e.createdAt)}))}),Object(p.jsxs)("div",{className:"chat__footer",children:[Object(p.jsx)("input",{value:s,onChange:function(e){return i(e.target.value)},type:"text",className:"chat__input"}),Object(p.jsx)("button",{onClick:h,className:"chat__btn btn",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})})})}},{path:m,component:function(){return Object(p.jsx)("div",{children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}},{path:h,component:function(){return Object(p.jsx)("div",{children:"\u0414\u0430\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0431\u044b\u043b \u0441\u0434\u0435\u043b\u0430\u043d \u0432 \u0443\u0447\u0435\u0431\u043d\u044b\u0445 \u0446\u0435\u043b\u044f\u0445"})}}];function z(e){var t=e.user;return e.loading?Object(p.jsx)(C,{}):t?Object(p.jsxs)(c.Fragment,{children:[Object(p.jsxs)(x.d,{children:[W.map((function(e){var t=e.path,a=e.component;return Object(p.jsx)(x.b,{path:t,component:a,exact:!0},t)})),Object(p.jsx)(x.a,{to:d})]}),Object(p.jsx)(O,{})]}):Object(p.jsxs)(x.d,{children:[S.map((function(e){var t=e.path,a=e.component;return Object(p.jsx)(x.b,{path:t,component:a,exact:!0},t)})),Object(p.jsx)(x.a,{to:b})]})}var I=function(){var e=Object(V.a)(j),t=Object(r.a)(e,3),a=t[0],c=t[1];return t[2],Object(p.jsxs)(i.a,{children:[Object(p.jsx)(f,{user:a}),Object(p.jsx)(z,{user:a,loading:c})]})},B=a(28),E=a(38),F={visible:!1},D={email:{emailValue:"",type:"email",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email"},password:{passwordValue:"",type:"password",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 password"}},J=Object(B.combineReducers)({form:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"state":return Object(v.a)(Object(v.a)({},e),t.payload);default:return e}},burger:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"state":return Object(v.a)(Object(v.a)({},e),{},{visible:t.payload});default:return e}}}),M=Object(B.createStore)(J,Object(E.composeWithDevTools)());s.a.render(Object(p.jsx)(o.a,{store:M,children:Object(p.jsx)(I,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.618fd6eb.chunk.js.map