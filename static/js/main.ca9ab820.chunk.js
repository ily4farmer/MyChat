(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{43:function(e,t,a){},44:function(e,t,a){},53:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(25),s=a.n(n),r=(a(43),a(18)),i=a(22),o=(a(44),a(12)),l=a(17);l.a.initializeApp({apiKey:"AIzaSyBfQBzoLibg1740oXi6i6fbOOeUbUbVJKM",authDomain:"my-chat-41ee5.firebaseapp.com",projectId:"my-chat-41ee5",storageBucket:"my-chat-41ee5.appspot.com",messagingSenderId:"396979646875",appId:"1:396979646875:web:18fc23a51ad5321822313e"});var j=l.a.auth(),u=l.a.firestore(),b=(a(53),"/home"),d="/chat",m="/info",h=a(3);function p(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.burger})).visible;console.log(t);var a="burger";return t||(a="none"),Object(h.jsxs)("div",{className:a,children:[Object(h.jsx)("div",{onClick:function(){e({type:"state",payload:!1})},className:"burger__btn",children:"X"}),Object(h.jsxs)("ul",{className:"burger__list",children:[Object(h.jsx)("li",{className:"burger__link",children:Object(h.jsx)(i.b,{to:d,children:"\u0427\u0430\u0442"})}),Object(h.jsx)("li",{className:"burger__link",children:Object(h.jsx)(i.b,{to:m,children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})})]}),Object(h.jsx)("button",{onClick:function(){return j.signOut()},className:"header__button btn",children:"\u0412\u044b\u0439\u0442\u0438"})]})}a(56);function O(e){var t=e.user,a=Object(c.useState)(!1),n=Object(r.a)(a,2),s=(n[0],n[1],Object(o.b)());return Object(h.jsx)("header",{className:"header",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"header-block",children:[Object(h.jsx)("div",{className:"header__logo",children:"MyChat"}),t?Object(h.jsx)("nav",{onClick:function(){s({type:"state",payload:!0})},className:"header__button",children:Object(h.jsx)("div",{className:"header__btn",children:Object(h.jsx)("span",{})})}):Object(h.jsx)("button",{className:"header__button btn",children:"\u041b\u043e\u0433\u0438\u043d"})]})})})}var f=a(10),x=(a(57),a(19));a(58);function v(e){var t=e.title,a=e.methodForm,c=Object(o.b)(),n=Object(o.c)((function(e){return e.form}));return Object(h.jsxs)("form",{action:"#",className:"form",onSubmit:a,children:[Object(h.jsx)("h2",{className:"form__template",children:t}),Object.keys(n).map((function(e){return Object(h.jsxs)("label",{children:[Object(h.jsx)("label",{className:"form__label",children:n[e].label}),Object(h.jsx)("input",{onChange:function(e){return function(e){var t=Object(x.a)({},n);switch(!0){case"email"===e.target.type:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.target.value)?(t.email.emailValue=e.target.value,c({type:"state",payload:t})):(t.email.emailValue="",c({type:"state",payload:t}));break;case"password"===e.target.type:e.target.value.length>6?(t.password.passwordValue=e.target.value,c({type:"state",payload:t})):(t.password.passwordValue="",c({type:"state",payload:t}))}}(e)},type:n[e].type,className:"form__input",required:!0})]},e)})),Object(h.jsx)("input",{type:"submit",placeholder:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",className:"form__input-btn btn"})]})}function g(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.form})),a=t.email.emailValue,c=t.password.passwordValue;return Object(h.jsx)(v,{title:"\u0412\u043e\u0439\u0442\u0438",methodForm:function(n){n.preventDefault(),l.a.auth().signInWithEmailAndPassword(a,c).then((function(e){return e})).catch((function(e){console.log("Error: "+e.toString())})),t.email.emailValue="",t.password.passwordValue="",e({type:"state",payload:t})}})}function _(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.form})),a=t.email.emailValue,c=t.password.passwordValue;return Object(h.jsx)(v,{title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",methodForm:function(n){n.preventDefault(),l.a.auth().createUserWithEmailAndPassword(a,c).then((function(e){return e})).catch((function(e){console.log("Error: "+e.toString())})),t.email.emailValue="",t.password.passwordValue="",e({type:"state",payload:t})}})}var y=a(34),N=a.n(y),w=a(36),k=(a(60),a(27)),V=a(37);a(61);function A(){return Object(h.jsx)("div",{className:"loader",children:Object(h.jsx)("div",{className:"lds-hourglass"})})}a(62);var C=[{path:b,component:function(){var e=Object(c.useState)(!0),t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(h.jsx)("section",{className:"home",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"home-block",children:[Object(h.jsx)("h1",{className:"home__title",children:"MYCHAT"}),a?Object(h.jsx)(g,{}):Object(h.jsx)(_,{}),Object(h.jsxs)("div",{className:"home__footer",children:[Object(h.jsx)("div",{className:"home__link",style:a?{fontWeight:"bold"}:{fontWeight:"normal"},onClick:function(){return n(!0)},children:"\u0412\u043e\u0439\u0442\u0438"}),Object(h.jsx)("div",{className:"home__link",style:a?{fontWeight:"normal"}:{fontWeight:"bold"},onClick:function(){return n(!1)},children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})})})}}],S=[{path:d,component:function(){var e=Object(k.a)(j),t=Object(r.a)(e,1)[0],a=Object(c.useState)(""),n=Object(r.a)(a,2),s=n[0],i=n[1],o=Object(V.a)(u.collection("messages").orderBy("createdAt")),b=Object(r.a)(o,2),d=b[0],m=b[1],p=function(){var e=Object(w.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.collection("messages").add({uid:t.uid,displayName:t.email,text:s,createdAt:l.a.firestore.FieldValue.serverTimestamp()}),i("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return m?Object(h.jsx)(A,{}):Object(h.jsx)("section",{className:"chat",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"chat-block",children:[Object(h.jsx)("div",{className:"chat__window",children:d.map((function(e){return Object(h.jsxs)("div",{className:"message",style:{marginLeft:t.uid===e.uid?"auto":"10px"},children:[Object(h.jsx)("div",{className:"message__name",children:e.displayName}),Object(h.jsx)("div",{className:"message__text",children:e.text})]},e.createdAt)}))}),Object(h.jsxs)("div",{className:"chat__footer",children:[Object(h.jsx)("input",{value:s,onChange:function(e){return i(e.target.value)},type:"text",className:"chat__input"}),Object(h.jsx)("button",{onClick:p,className:"chat__btn btn",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})})})}},{path:m,component:function(){return Object(h.jsx)("section",{className:"info",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"info-block",children:Object(h.jsx)("p",{className:"info__text",children:"\u0414\u0430\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0431\u044b\u043b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043d \u0432 \u0443\u0447\u0435\u0431\u043d\u044b\u0445 \u0446\u0435\u043b\u044f\u0445"})})})})}}];function W(e){var t=e.user;return e.loading?Object(h.jsx)(A,{}):t?Object(h.jsxs)(c.Fragment,{children:[Object(h.jsxs)(f.d,{children:[S.map((function(e){var t=e.path,a=e.component;return Object(h.jsx)(f.b,{path:t,component:a,exact:!0},t)})),Object(h.jsx)(f.a,{to:d})]}),Object(h.jsx)(p,{})]}):Object(h.jsxs)(f.d,{children:[C.map((function(e){var t=e.path,a=e.component;return Object(h.jsx)(f.b,{path:t,component:a,exact:!0},t)})),Object(h.jsx)(f.a,{to:b})]})}var I=function(){var e=Object(k.a)(j),t=Object(r.a)(e,3),a=t[0],c=t[1];return t[2],Object(h.jsxs)(i.a,{children:[Object(h.jsx)(O,{user:a}),Object(h.jsx)(W,{user:a,loading:c})]})},z=a(28),B=a(38),E={visible:!1},F={email:{emailValue:"",type:"email",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email"},password:{passwordValue:"",type:"password",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 password"}},D=Object(z.combineReducers)({form:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"state":return Object(x.a)(Object(x.a)({},e),t.payload);default:return e}},burger:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"state":return Object(x.a)(Object(x.a)({},e),{},{visible:t.payload});default:return e}}}),J=Object(z.createStore)(D,Object(B.composeWithDevTools)());s.a.render(Object(h.jsx)(o.a,{store:J,children:Object(h.jsx)(I,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.ca9ab820.chunk.js.map